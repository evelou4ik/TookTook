"use strict";var animation;function toggleOn(){$(".plane").addClass("plane--visible")}function toggleOff(){$(".plane").removeClass("plane--visible")}document.querySelectorAll('a[href^="#"').forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=this.getAttribute("href").substring(1),o=document.getElementById(t),n=document.querySelector(".header").offsetHeight,i=o.getBoundingClientRect().top-n;window.scrollBy({top:i,behavior:"smooth"})}))})),gsap.registerPlugin(MotionPathPlugin,ScrollTrigger),animation=gsap.to(".plane",{scrollTrigger:{trigger:".about__img--ticket",start:"top",end:"center 300px",scrub:1,onEnter:toggleOn,onLeave:toggleOff,onEnterBack:toggleOn,onLeaveBack:toggleOff},duration:1,ease:"none",immediateRender:!0,motionPath:{path:".motion-path",align:".motion-path",alignOrigin:[.5,.5],autoRotate:-110}});var scrollAnimate=document.querySelectorAll(".scroll-item"),scrollAnimation=function(){var e=window.innerHeight/2+window.scrollY;scrollAnimate.forEach((function(t){var o=t.offsetTop+t.offsetHeight;e>=o?t.classList.add("item-animate"):t.classList.remove("item-animate")}))};scrollAnimation(),window.addEventListener("scroll",(function(){scrollAnimation()})),$(window).scroll((function(){var e=$(window),t=$("body"),o=$(".bg-change"),n=e.scrollTop()+e.height()/3;o.each((function(){var e=$(this);e.position().top<=n&&e.position().top+e.height()>n&&(t.removeClass((function(e,t){return(t.match(/(^|\s)color-\S+/g)||[]).join(" ")})),t.addClass("color-"+$(this).data("color")))}))})).scroll(),$(".form__datepicker").datepicker({language:"en",minDate:new Date,position:"bottom center",dateFormat:"dd.mm.yyyy",firstDay:0,autoClose:!0}),$.fn.datepicker.language.en={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sut"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",timeFormat:"hh:ii"};var isAdded=!1;function scrollFunction(){!isAdded&&document.documentElement.scrollTop>100?($(".header").addClass("header--active"),isAdded=!0):isAdded&&document.documentElement.scrollTop<100&&($(".header").removeClass("header--active"),isAdded=!1)}window.onscroll=function(){scrollFunction()};var inputMask=document.querySelector(".form__select-number"),inputMaskUa=document.querySelector(".form__flag--ua"),inputMaskRu=document.querySelector(".form__flag--ru"),inputs=document.querySelector(".form__phone"),imUa=new Inputmask("(99) 999-99-99"),imRu=new Inputmask("(99) 999-99-99");imUa.mask(inputs),inputMask.addEventListener("click",(function(){"ua"==inputMask.value?(inputMaskUa.classList.add("visible"),inputMaskRu.classList.remove("visible"),imUa.mask(inputs)):(imRu.mask(inputs),inputMaskRu.classList.add("visible"),inputMaskUa.classList.remove("visible"))}));var menu=document.querySelector(".header__menu"),burger=document.querySelector(".burger"),fixBlocks=document.querySelectorAll(".fix-block"),lockScroll=function(){var e=window.innerWidth-document.body.offsetWidth+"px";document.body.classList.toggle("unscroll"),fixBlocks.forEach((function(t){t.style.paddingRight=e})),document.body.style.paddingRight=e},unlockScroll=function(){document.body.classList.remove("unscroll"),fixBlocks.forEach((function(e){e.style.paddingRight="0px"})),document.body.style.paddingRight="0px"};burger.addEventListener("click",(function(){burger.classList.toggle("open"),menu.classList.toggle("open"),lockScroll()})),menu.addEventListener("click",(function(e){(e.target.classList.contains("header__link")||e.target.classList.contains("header__link-form"))&&(burger.classList.remove("open"),menu.classList.remove("open"),unlockScroll())}));var popupForm=document.querySelector(".popup"),popupBtn=document.querySelector(".popup__btn"),disableScroll=function(){var e=window.innerWidth-document.body.offsetWidth+"px";document.body.classList.add("lock"),fixBlocks.forEach((function(t){t.style.paddingRight=e})),document.body.style.paddingRight=e},enableScroll=(fixBlocks=document.querySelectorAll(".fix-block"),function(){document.body.classList.remove("lock"),fixBlocks.forEach((function(e){e.style.paddingRight="0px"})),document.body.style.paddingRight="0px"}),scrollTop=function(){window.scrollTo({top:0,behavior:"smooth"})};function myFunction(){popupForm.classList.add("active"),disableScroll(),scrollTop(),popupForm.classList.contains("active")&&popupBtn.addEventListener("click",(function(){popupForm.classList.remove("active"),enableScroll()}))}var stageInput=document.querySelectorAll(".stages__item"),changeImg=document.querySelector(".banner__shield");window.addEventListener("scroll",(function(){var e=window.scrollY+window.innerHeight/2,t=changeImg.classList.contains("active"),o=changeImg.getBoundingClientRect().top+pageYOffset;stageInput.forEach((function(t){var o=t.classList.contains("active"),n=t.getBoundingClientRect().top+pageYOffset;!o&&e>=n?t.classList.add("active"):o&&e<n&&t.classList.remove("active")})),!t&&e>=o?changeImg.classList.add("active"):t&&e<o&&changeImg.classList.remove("active")}));var reviewSlider=document.querySelector(".reviews__slider"),swiperReviews=new Swiper(reviewSlider,{slidesPerView:3,centeredSlides:!0,loop:!0,navigation:{nextEl:".slider__btn--next",prevEl:".slider__btn--prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{319:{slidesPerView:1,centeredSlides:!1},993:{slidesPerView:3}}}),wow=new WOW({animateClass:"animate__animated"});wow.init(),window.addEventListener("load",(function(){var e=document.querySelector(".preload");setTimeout((function(){e.classList.add("preload-finish")}),3e3)}));